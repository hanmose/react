/* ========== Kettle.css (no mask, cross-browser) ========== */
:root{
    --bg: #0f1116;
    --panel: #151b26;
    --line: #2a3246;
    --fg: #e9edf5;
    --accent: #69a5ff;
    --water: #4fb0ff;
    --water-dark: #2a7bd1;
    --steam: rgba(255,255,255,0.85);
}

body{
    background: radial-gradient(1200px 600px at 10% 0%, #0b0d13, var(--bg) 70%);
    color: var(--fg);
}

/* ===== Fieldset & Form ===== */
.kv-fieldset{
    max-width: 720px;
    margin: 28px auto;
    padding: 20px 20px 24px;
    border: 1px solid var(--line);
    border-radius: 16px;
    background: linear-gradient(180deg, var(--panel), #101623);
    box-shadow: 0 10px 24px rgba(0,0,0,0.35);
}

.kv-legend{
    padding: 8px 12px;
    border: 1px solid var(--line);
    border-radius: 10px;
    background: #0f1624;
    font-weight: 700;
}

.kv-row{
    display: grid;
    grid-template-columns: 1fr 260px;
    align-items: start;
    gap: 18px;
    margin-top: 14px;
}
@media (max-width: 640px){
    .kv-row{ grid-template-columns: 1fr; }
}

.kv-input{
    width: 100%;
    padding: 14px 16px;
    border-radius: 10px;
    border: 1px solid var(--line);
    background: #0e1421;
    color: var(--fg);
    outline: none;
    transition: box-shadow .2s ease, border-color .2s ease, transform .2s ease;
}
.kv-input::placeholder{ color:#8b93a8; }
.kv-input:focus{ border-color: var(--accent); box-shadow: 0 0 0 4px rgba(105,165,255,.15); }

/* ================== Kettle ================== */
.kettle{
    display: grid;
    place-items: center;
    gap: 8px;
    user-select: none;
}
.kettle-temp{
    font-size: 14px;
    letter-spacing: .3px;
    opacity: .9;
}

.kettle-body{
    position: relative;
    width: 220px;
    height: 180px;
    border-radius: 24px 24px 40px 40px;
    background: linear-gradient(180deg, #d1d7e6 0%, #b9c2d8 55%, #a4afc8 100%);
    border: 2px solid #7b86a1;
    box-shadow:
            inset 0 0 0 2px rgba(255,255,255,.35),
            inset 0 -18px 22px rgba(0,0,0,.12),
            0 12px 24px rgba(0,0,0,.35);
}

/* Lid */
.kettle-lid{
    position: absolute;
    top: -18px;
    left: 50%;
    transform: translateX(-50%);
    width: 140px;
    height: 24px;
    border-radius: 14px 14px 8px 8px;
    background: linear-gradient(180deg, #c7d0e4, #aebad4);
    border: 2px solid #7b86a1;
}
.kettle-lid::after{
    content: "";
    position: absolute;
    top: -10px; left: 50%;
    transform: translateX(-50%);
    width: 26px; height: 10px;
    border-radius: 10px;
    background: #c7d0e4;
    border: 2px solid #7b86a1;
}

/* Handle */
.kettle-handle{
    position: absolute;
    right: -46px; top: 22px;
    width: 70px; height: 130px;
    border: 10px solid #7b86a1;
    border-left: 12px solid transparent;
    border-radius: 50px;
    box-shadow: inset 0 0 0 2px rgba(255,255,255,.35);
}

/* Spout */
.kettle-spout{
    position: absolute;
    left: -28px; top: 54px;
    width: 0; height: 0;
    border-top: 18px solid transparent;
    border-bottom: 18px solid transparent;
    border-right: 42px solid #aebad4;
    filter: drop-shadow(0 2px 2px rgba(0,0,0,.25));
}
.kettle-spout::after{
    content:"";
    position:absolute; top:-14px; left:12px;
    width: 20px; height: 28px;
    background: #aebad4;
    border-right: 2px solid #7b86a1;
    transform: skewY(-20deg);
}

/* Water cavity */
.kettle-water{
    position: absolute;
    left: 10px; right: 10px; bottom: 10px;
    height: 90px;
    border-radius: 0 0 28px 28px;
    overflow: hidden;
    border-top: 2px solid rgba(255,255,255,.55);

    /* Base fill */
    background:
        /* moving ripples layer */
            radial-gradient(120px 26px at 50% 8px, rgba(255,255,255,.28) 40%, rgba(255,255,255,0) 70%) repeat-x,
                /* highlight */
            radial-gradient(80% 80% at 50% 10%, rgba(255,255,255,.35), transparent 60%),
                /* body */
            linear-gradient(180deg, var(--water), var(--water-dark));
    background-size:
            200% 22px,
            100% 100%,
            100% 100%;
    background-position:
            0 0,
            0 0,
            0 0;
}

/* Calm water animation (no mask needed) */
.kettle:not(.boil) .kettle-water{
    animation: calm 4s linear infinite;
}
@keyframes calm{
    0%   { background-position: 0 0, 0 0, 0 0; }
    100% { background-position: 200% 0, 0 0, 0 0; }
}

/* Bubbles (hidden by default) */
.bubble{
    position: absolute;
    bottom: 8px;
    width: 10px; height: 10px;
    border-radius: 50%;
    background: rgba(255,255,255,.85);
    opacity: .0;
    transform: translateY(0) scale(.9);
}
.bubble.b1{ left: 30px; }
.bubble.b2{ left: 70px; width: 8px; height: 8px; }
.bubble.b3{ left: 110px; width: 12px; height: 12px; }
.bubble.b4{ left: 150px; width: 9px; height: 9px; }
.bubble.b5{ left: 180px; width: 7px; height: 7px; }

/* Steam (hidden by default) */
.steam{
    position: absolute;
    left: -18px; top: 10px;
    width: 8px; height: 28px;
    background: linear-gradient(180deg, var(--steam), rgba(255,255,255,0));
    border-radius: 50%;
    opacity: 0;
    transform: translate(-18px, 0) rotate(-20deg);
    filter: blur(1.2px);
}
.steam.s1{ left: -20px; top: 0px; height: 34px; }
.steam.s2{ left: -30px; top: -8px; height: 40px; }
.steam.s3{ left: -12px; top: 8px; height: 32px; }

/* ========== Boiling state ========== */
.kettle.boil .bubble{
    animation: rise 1.8s infinite ease-in;
    opacity: .95;
}
.kettle.boil .bubble.b1{ animation-delay: .0s; }
.kettle.boil .bubble.b2{ animation-delay: .3s; }
.kettle.boil .bubble.b3{ animation-delay: .6s; }
.kettle.boil .bubble.b4{ animation-delay: .9s; }
.kettle.boil .bubble.b5{ animation-delay: 1.2s; }

@keyframes rise{
    0%   { transform: translateY(0) scale(.85); opacity: .0; }
    10%  { opacity: .55; }
    60%  { transform: translateY(-60px) scale(1); opacity: .95; }
    100% { transform: translateY(-90px) scale(1.05); opacity: 0; }
}

/* Steam animation when boiling */
.kettle.boil .steam{
    animation: steamUp 2.4s infinite ease-out;
}
.kettle.boil .steam.s1{ animation-delay: .0s; }
.kettle.boil .steam.s2{ animation-delay: .6s; }
.kettle.boil .steam.s3{ animation-delay: 1.2s; }

@keyframes steamUp{
    0%   { opacity: 0; transform: translate(-18px, 0) rotate(-20deg); }
    20%  { opacity: .9; }
    100% { opacity: 0; transform: translate(-18px, -60px) rotate(-24deg); }
}
